# 14장 전역 변수의 문제점
## 14.1 변수의 생명주기
### 지역 변수의 생명주기
전역 변수의 무분별한 사용은 위험함

`변수`는 선언에 의해 생성되고 할당을 통해 값을 갖는다. 그리고 소멸되는 생성 주기가 있다. 생명 주기가 없다면 프로그램이 종료되지 않는 한 영원히 메모리 공간을 점유하게 된다.

```javascript
function foo() {
    const x = 'local';
    console.log(x);
    return x;
}

foo(); //local
console.log(x); //x is not defined
```
지역 변수 x는 foo함수가 호출되기 이전까지는 생성되지 않음<br>
foo함수를 호출하지 않으면 함수 내부의 변수 선언문이 실행되지 않기 때문

변수 호이스팅은 `전역 변수`에 한정됨 <br>
함수 내부에서 선언한 변수는 호출된 직후 내부 코드가 순차적으로 실행됨

함수가 종료되면 내부에서 선언된 변수 소멸됨 <br>
`변수`는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 메모리 공간을 식별하기 위해 붙인 이름이다. 따라서 변수의 생명주기는 메모리 공간이 확보된 시점~메모리 공간이 해제되어 가용 메모리 풀에 반환되는 시점까지다

함수 내부에서 선언된 지역 변수는 함수가 생성한 스코프에 등록됨 <br>
변수는 자신이 등록된 스코프가 소멸될 때까지 유효함 <br>
할당된 메모리 공간은 더 이상 그 누구도 참조하지 않을 때 가비지 콜렉터에 의해 해제되어 가용 메모리 풀에 반환됨<br>

```javascript
let x = 'global';

function foo() {
    console.log(x); //지역변수x는 이미 선언되고 undefined로 초기화되어 있음
    let x = 'local';
}
```
이처럼 **`호이스팅`은 스코프를 단위로 동작한다**

### 전역 변수의 생명 주기
브라우저 환경에서 `전역 객체`는 window이므로 var키워드로 선언한 전역 변수는 전역 객체 window의 `프로퍼티`(속성) 이다. 전역 객체 window는 웹페이지를 닫기 전까지 유효하다. <br>
🌟 즉, 전역 변수의 생명주기는 전역 객체의 생명 주기와 일치함

---
## 14.2 전역 변수의 문제점
### 암묵적 결합
전역 변수를 선언한 의도 : 코드 어디서든 참조하고 할당할 수 있는 변수를 사용하겠다는 것 -> 모든 코드가 전역 변수를 참조하고 변경할 수 있는 `암묵적 결합`을 허용하는 것임


> 📌  <br>

🌟
🍀
```javascript

```