# 21장 - 빌트인 객체
## 21.1 자바스크립트 객체의 분류
- 표준 빌트인 객체
- 호스트 객체
- 사용자 정의 객체
---
## 21.2 표준 빌트인 객체
자바스크립트는 `Object`, `String`, `Number`, `Array`, `Map`, `Function` 등 표준 빌트인 객체 제공

`Math`, `Reflect`, `JSON`을 제외하고 모두 인스턴스를 생성할 수 있는 생성자 함수 객체임 (프로토타입 메서드 & 정적 메서드 제공)

생성자 함수인 표준 빌트인 객체가 생성한 인스턴스의 프로토타입 : 표준 빌트인 객체의 prototype 프로퍼티에 바인딩 된 객체<br>
표준 빌트인 객체는 인스턴스 없이 호출 가능한 정적 메서드 제공

---
## 21.3 원시값과 래퍼 객체
```javascript
const str = 'hello';

console.log(str.length); //5
```
원시값은 객체가 아니므로 프로퍼티나 메서드를 가질 수 없는데도 원시값인 문자열이 마치 객체처럼 행동함<br>
(문자열, 숫자, 불리언)

🍀 원시값을 객체처럼 사용하면 자바스크립트 엔진은 암묵적으로 연관된 객체를 생성하여 생성된 객체로 프로퍼티에 접근하거나 메서드 호출하고 다시 원시값으로 되돌림(래퍼 객체는 가비지 컬렉션 대상이 됨)

**객체처럼 접근하면 생성되는 임시 객체를 `래퍼 객체`라고 함**

-> `String`, `Number`, `Boolean` 생성자 함수를 new 연산자와 함께 호출하여 인스턴스 생성할 필요가 없음. 

---
## 21.4 전역 객체
모든 빌트인 객체의 최상위 객체

특징
- 전역 객체 생성할 수 있는 생성자 함수 제공x
- 전역 객체의 프로퍼티 참조시 window(global)생략 가능
- 모든 표준 빌트인 객체를 프로퍼티로 가짐
- 자바스크립트 실행 환경에 따라 추가적으로 프로퍼티와 메서드 가짐(브라우저 - DOM, BOM, Canvas 등과 같은 클라이언트 사이드 Web API 호스트 객체로 제공, Node.js - 고유의 API를 호스트 객체로 제공)
- var 키워드로 선언한 전역 변수와 선언하지 않은 변수에 값을 할당한 암묵적 전역, 전역 함수는 전역 객체의 프로퍼티가 됨

```javascript
bar = 1; //window.bar = 1
```
- let, const 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 아님. 보이지 않는 개념적인 블록(전역 렉시컬 환경의 선언적 환경 레코드)내에 존재하게 됨
- 하나의 전역 객체 window를 공유한다.

전역 객체는 브라우저 환경에서는 `window`, Node.js환경에서는 `global`이지만 ES11에 도입된 `globalThis`는 다양한 전역객체 식별자를 통일한 식별자임

### 빌트인 전역 프로퍼티
전역 객체의 프로퍼티를 의미함

`Infinity`<br>
무한대를 나타내는 숫자값

`NaN`<br>
숫자가 아님(Not a Number)을 나타내는 숫자값

`undefined`<br>
원시 타입 undefined를 값으로 가짐

### 빌트인 전역 함수
전역에서 호출할 수 있는 빌트인 함수로서 전역 객체의 메서드

`eval`<br>
문자열을 인수로 전달받음

```javascript
//표현식인 문
eval ('1 + 2;'); //3

//표현식이 아닌 문
eval ('var x = 5;') // undefined

//eval 함수에 의해 런타임에 변수 선언문이 실행되어 x 변수가 선언됨
console.log(x); //5
```
eval 함수는 자신이 호출된 위치에 해당하는 기존의 스코프를 런타임에 동적으로 수정함
```javascript
const x = 1;

function foo(){
    eval('var x = 2;');
    console.log(x);//2
}

console.log(x); //1
```
strict mode에서 eval 함수는 기존의 스코프를 수정하지 않고 eval 함수 자신의 자체적인 스코프 생성함. 인수로 전달받은 문자열 코드가 let, const 키워드를 사용한 변수 선언문일 경우 암묵적으로 strict mode 적용됨

eval 함수를 통해 사용자로부터 입력받은 콘텐츠를 실행하는 것은 보안 매우 취약함. 그리고 코드 최적화가 되지 않으므로 처리속도 느림. **-> eval 함수 사용 금지**

`isFinite`<br>
전달받은 인수가<br>유한수 : true 반환<br>무한수 : false 반환

전달받은 인수가 숫자가 아닐 경우 숫자로 타입 변환함(NaN일 경우 false 반환)

```javascript
isFinite(null); //true (0)
```

`isNaN`<br>
전달받은 인수가 NaN인지 검사하여 불리언 타입으로<br>
전달받은 인수가 숫자가 아닐 경우 숫자로 타입 변환함

```javascript
isNaN(' '); //true (0)
```

`parseFloat`<br>
전달받은 문자열 인수를 실수로 해석하여 반환

`parseInt`<br>
전달받은 문자열 인수를 정수로 해석하여 반환<br>
문자열이 아니면 문자열로 반환
```javascript
// 문자열 10을 8진수로 해석
parseInt('10', 8); //8
```

`encodeURI / decodeURI`<br>
encodeURI 함수는 완전한 URI를 문자열로 받아 이스케이프 처리를 위해 인코딩한다

- 인코딩 : URI의 문자들을 이스케이프 처리
- 이스케이프 처리 : 네트워크를 통해 정보를 공유할 때 어떤 시스템에서도 읽을 수 있는 아스키 문제 셋으로 변환

URL 내부에서 의미를 갖고 있는 문자 (%, ?, #)나 URL에 올 수 없는 문자(한글, 공백)또는 시스템에 의해 해석될 수 있는 문자(<,>)를 이스케이프 처리하여 야기될 수 있는 문제 예방

decodeURI 함수는 인코딩된 URL를 인수로 전달받아 이스케이프 처리 이전으로 디코딩

`encodeURIcomponent / decodeURIcomponent`<br>
encodeURIcomponent 함수는 URI 구성 요소를 인수로 전달받아 인코딩

decodeURIcomponent 함수는 매개변수로 전달된 URI 구성요소를 디코딩

- encodeURIcomponent : 인수로 전달된 문자열을 URI의 구성요소인 쿼리 스트링의 일부로 간주. 쿼리 스트링 문자로 사용되는 = ? &까지 인코딩
- encodeURI : 매개변수로 전달된 문자열을 완전한 URL 전체로 간주. 쿼리 스트링 구분자는 인코딩X

### 암묵적 전역
```javascript
y = 10;
```
선언하지 않은 식별자는 전역 객체의 프로퍼티가 되어 마치 전역 변수처럼 행동함. 이를 `암묵적 전역`이라 함

하지만 변수 선언 없이 단지 전역 객체의 프로퍼티로 추가되었을 뿐이라서 변수가 아님. 변수가 아니라서 변수 호이스팅도 발생하지 않음. delete 연산자로 삭제 가능 (전역 변수는 불가능)